<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체</title>
    <style>
        .area{
            background: lightgray;
            border: 1px solid black;
            height: 200px;
        }
        .area-big{
            background: lightgray;
            border: 1px solid black;
            height: 400px;
        }
    </style>
</head>
<body>
    <h1>객체</h1>
    <h3>객체의 선언 및 호출</h3>
    <p>
        객체는 키값을 사용하여 속성을 식별<br>
        중괄호{}를 사용해서 객체를 생성하고 속성에는 모든 자료형이 올 수 있음
    </p>
    <pre>
        var 객체 = {
            속성명 : 속성값,
            속성명 : 속성값,
            ...
        }
        key : value 형태
    </pre>
    <button onclick="test1();">실행확인</button>
    <div id="area1" class="area-big"></div>
    <script>
        function test1(){
            var product = {
                pname : 'Dry Mango',
                type : '과자',
                ingredient : ['mango','sugar'],
                origin : 'Philippines'
            }
            console.log(product);
            var area1 = document.getElementById("area1");
            area1.innerHTML += "product : "+product+"<br>";

            //해당 객체의 각 속성에 접근하는 방법
            //1. 객체명.속성명
            area1.innerHTML += "<br><b> 객체명.속성명으로 접근하기</b><br>";
            area1.innerHTML += "product.pName : "+product.pname + "<br>";
            area1.innerHTML += "product.type : "+product.type + "<br>";
            area1.innerHTML += "product.ingredient : "+product.ingredient[0] + "<br>";
            area1.innerHTML += "product.ingredient : "+product.ingredient[1] + "<br>";
            area1.innerHTML += "product.origin : "+product.origin + "<br>";

            //2. 객체명['속성명']
            area1.innerHTML += "<br><b>객체명['속성명']으로 접근하기</b><br>";
            area1.innerHTML += "product['pname'] : "+product['pname']+"<br>";
            area1.innerHTML += "product['type'] : "+product['type']+"<br>";
            area1.innerHTML += "product['ingredient'][0] : "+product['ingredient'][0]+"<br>";
            area1.innerHTML += "product['ingredient'][1] : "+product['ingredient'][1]+"<br>";
            area1.innerHTML += "product['origin'] : "+product['origin']+"<br>";
        }
    </script>
    <h3>객체의 식별자 테스트</h3>
    <button onclick="test2();">실행확인</button>
    <div id="area2" class="area"></div>
    <script>
        function test2(){
            var objTest = {
                //속성명에 특수문자 혹은 공백이 있는 경우 "".''로 묶어야 함
                'I like' : "susi",
                'I hate' : "fishcake"
            };
            console.log(objTest);

            var area2 = document.getElementById("area2");
            //area2.innerHTML += "I love : "+objTest.'I love'+"<br>";
            //이후 []를 이용해서 공백이나 특수문자를 반영해야 함
            area2.innerHTML += "I love : "+objTest['I like']+"<br>";
            area2.innerHTML += "I hate : "+objTest['I hate']+"<br>";
        }
    </script>
    <h3>객체의 메소드 속성</h3>
    <p>
        객체의 속성중 함수 자료형인 속성을 메소드라고 함
    </p>
    <button onclick="test3();">실행확인</button>
    <div id="area3" class="area"></div>
    <script>
        function test3(){
            var area3 = document.getElementById("area3");
            //객체 생성
            var dog = {
                //name 속성, 바둑이 속성값
                name : "바둑이",
                //함수 자료형 속성 eat
                eat : function(food){
                    area3.innerHTML += this.name + '가 '+food+"를 먹고있다. <br>";
                }
            };
            //객체의 함수 자료형을 호출하여 메소드를 실행할 수도 있음
            console.log(dog);
            dog.eat('뼈다귀');
            dog.eat('개껌');
        }
    </script>
    <h3>객체와 반복문</h3>
    <p>객체의 속성을 살펴볼 때는 단순 for문으로 접근 불가능하고 for in 문을 사용해야 함</p>
    <button onclick="test4();">실행확인</button>
    <div ID = "area4" class="area"></div>
    <script>
        function test4(){
            var game={
                title : "StarCraft",
                price : "35000원",
                language : "한국어지원",
                supportOS : "Window 32/64",
                service : true
            };
            console.log(game);
            var area4 = document.getElementById("area4");
            //객체 내의 속성과 속성값을 하나씩 호출
            //단 속성값을 찾을 때는 []로만 찾아야 함
            //. 사용하면 undefined로 출력됨
            for(var key in game){
                area4.innerHTML += key + " : " + game[key] + "<br>";
            }
        } 
    </script>
    <h3>in과 with 키워드</h3>
    <p>
        in : 객체 내부에 해당 속성이 있는지를 확인하는 키워드<br>
        with : 코드를 줄여주는 키워드, 호출시 객체명을 생략할 수 있게 함
    </p>
    <label>이름 : </label>
    <input type="text" id="name"><br>
    <label>국어 : </label>
    <input type="text" id="korean"><br>
    <label>영어 : </label>
    <input type="text" id="english"><br>
    <label>수학 : </label>
    <input type="text" id="math"><br>
    <button onclick="test5()">실행확인</button>
    <div id="area5" class="area-big"></div>
    <script>
        function test5(){
            var area5 = document.getElementById("area5");

            var name = document.getElementById("name").value;
            var korean = document.getElementById("korean").value;
            var english = document.getElementById("english").value;
            var math = document.getElementById("math").value;

            var student = {
                name : name,
                korean : korean,
                english : english,
                math : math
            };
            console.log(student);

             //속성명 in 객체
            area5.innerHTML += "name 속성 있는지 확인 : " + ('name' in student) + "<br>";
            area5.innerHTML += "sum 속성 있는지 확인 : " + ('sum' in student) + "<br>";
            
            //with(객체)
            with(student){
                area5.innerHTML += "학생이름 : "+name+"<br>";
                area5.innerHTML += "국어점수 : "+korean+"<br>";
                area5.innerHTML += "영어점수 : "+english+"<br>";
                area5.innerHTML += "수학점수 : "+math+"<br>";
                area5.innerHTML += "총점 : "+(korean+english+math)+"<br>";
                area5.innerHTML += "평균 : "+((korean+english+math)/3)+"<br>";
            }
        }
    </script>
    <h3>객체의 속성추가와 제거</h3>
    <p>
        처음 객체생성이후 속성을 추가하거나 제거하는 것을 동적으로 속성을 추가하거나 제거한다고 한다.
    </p>
    <button onclick="test6()">실행확인</button>
    <div id="area6" class="area"></div>
    <script>
        function test6(){
            var area6 = document.getElementById("area6");
            var student = {

            }
            console.log(student);
            student.name = "유재석";
            student.hobby = "낚시";
            student.strength = "베테랑";
            student.dream = "어부";
            //다시 한 번 생각해보기
            student.toString = function(){
                var str = "";
                for(var key in this){
                    alert(key);
                    if(key != 'toString'){
                        str += key + " : "+this[key] + "<br>";
                    }
                }
                return str;
            }
            console.log(student);
            area6.innerHTML = student.toString();
           //객체 제시시 내부적으로 toString() 메소드를 찾아서 실행해줌
            area6.innerHTML += "student : <br>"+student+"<br>";

            //객체 속성 삭제
            delete(student.dream);
           // console.log(student);
           area6.innerHTML += student;
        }
    </script>

</body>
</html>