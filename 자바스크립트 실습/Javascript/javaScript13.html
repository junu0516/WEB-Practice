<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>객체배열</title>
    <style>
        .area{
            background-color: lightgray;
            border: 1px solid black;
            width: 400px;
            height: 200px;
        }
    </style>
</head>
<body>
    <h1>객체배열</h1>
    <button onclick="test1();">실행확인</button>
    <div id="area1" class="area"></div>
    <script>
        function test1(){
            var student0 = {
                name : "유재석",
                java : 90,
                oracle : 56,
                HTML5 : 30,
                CSS3 : 44,
                javascript : 23
            };
            var student1 = {
                name : "김종민",
                java : 80,
                oracle : 66,
                HTML5 : 40,
                CSS3 : 34,
                javascript : 33
            };
            var student2 = {
                name : "정재형",
                java : 70,
                oracle : 76,
                HTML5 : 20,
                CSS3 : 54,
                javascript : 33
            };
            var students=[];
            students.push(student0);
            students.push(student1);
            students.push(student2);
            console.log(students);

            //배열에 담겨있는 모든 객체에 메소드 속성 추가
            for(var i=0;i<students.length;i++){
                students[i].getSum = function(){
                    return this.java+this.oracle+this.HTML5+this.CSS3+this.javascript;
                }
                students[i].getAvg = function(){
                    return this.getSum()/5;
                }            
            }

            for(var i in students){
                with(students[i]){
                    document.getElementbyId("area1").innerHTML
                    += "이름 : " + name
                    + "총점 : " + getSum()
                    + "평균 : " + getAvg() + "<br>";
                }
            }
            console.log(students);            
        }
    </script>
    <h3>생성자함수</h3>
    <p>new 키워드를 이용해 객체를 생성할 수 있는 함수를 의미한다.</p>
    <button onclick="test2();">실행확인</button>
    <div id="area2" class="area"></div>
    <script>
        function Student(name,java,oracle,html,css,javascript){
            this.name = name;
            this.java = java;
            this.oracle = oracle;
            this.html = html;
            this.css = css;
            this.javascript = javascript;

            this.getSum = function(){
                return this.java+this.oracle+this.html+this.css+this.javascript;
            }
            this.getAvg = function(){
                return this.getSum()/5;
            }
            this.toString = function(){
                return "이름 : "+this.name+", 총점"+this.getSum()+", 평균 : "+this.getAvg()+"<br>";
            }
        }
        function test2(){
            var student = new Student(prompt("이름을 입력하세요"),
                                      parseInt(prompt('자바 점수를 입력하세요')),
                                      parseInt(prompt('오라클 점수를 입력하세요')),
                                      parseInt(prompt('html 점수를 입력하세요')),
                                      parseInt(prompt('css 점수를 입력하세요')),
                                      parseInt(prompt('javascript 점수를 입력하세요'))
                                      )        
            var area2 = document.getElementById("area2");
            area2.innerHTML = student;                      
        }
    </script>
</body>
</html>